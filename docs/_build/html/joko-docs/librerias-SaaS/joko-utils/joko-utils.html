

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>joko-utils &mdash; documentación de Joko Framework - </title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Índice"
              href="../../../genindex.html"/>
        <link rel="search" title="Búsqueda" href="../../../search.html"/>
    <link rel="top" title="documentación de Joko Framework - " href="../../../index.html"/> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> Joko Framework
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Documentación</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../librerias-SaaS.html">Librerías</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../start-kits/start-kits.html">Start-Kits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutoriales/tutoriales.html">Tutoriales</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Joko Framework</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
      <li>joko-utils</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/joko-docs/librerias-SaaS/joko-utils/joko-utils.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="joko-utils">
<h1>joko-utils<a class="headerlink" href="#joko-utils" title="Enlazar permanentemente con este título">¶</a></h1>
<div class="section" id="introduccion">
<h2>Introducción<a class="headerlink" href="#introduccion" title="Enlazar permanentemente con este título">¶</a></h2>
<p><strong>joko-utils</strong> es una librería de Java que contiene utilidades varias de modo a facilitar funcionalidades comúnmente usadas a la hora de trabajar sobre el <em>Backend</em> de un proyecto.</p>
<dl class="docutils">
<dt><strong>Repositorio:</strong></dt>
<dd><a class="reference external" href="https://github.com/jokoframework/joko-utils">https://github.com/jokoframework/joko-utils</a></dd>
<dt><strong>Javadoc:</strong></dt>
<dd><a class="reference external" href="https://gabrielci.github.io/joko-utils">https://gabrielci.github.io/joko-utils</a></dd>
</dl>
</div>
<div class="section" id="ejemplos">
<h2>Ejemplos<a class="headerlink" href="#ejemplos" title="Enlazar permanentemente con este título">¶</a></h2>
<div class="section" id="csv-comma-seperated-values-utils">
<h3>CSV (Comma Seperated Values) Utils<a class="headerlink" href="#csv-comma-seperated-values-utils" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Contiene utilidades para trabajar con el formato CSV</p>
<p>Ejemplo del método <strong>convertToCsv</strong>:</p>
<p>El metodo transforma una lista de objetos serializables a un texto en formato CSV, devolviendo el resultado como un byte stream.</p>
<p>Inputs:</p>
<ul class="simple">
<li>Una lista de tipo indefinido que tendrá objetos de una misma clase y cuya clase tenga la propiedad de ser serializable.</li>
<li>Una lista de Strings donde cada elemento es el nombre de una columna del texto CSV así como el nombre del atributo del objeto cuyo Getter se llamara (Como vera en el ejemplo no es Case-Sensitive).</li>
<li>La clase de los objetos dentro de la lista de tipo indefinido.</li>
</ul>
<p>Para el ejemplo usaremos la siguiente clase para nuestra lista de objetos, haciendo que sea serializable así como definiendo los Getters para usar los atributos:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span class="c1">// En nuestra clase  de ejemplo especificamos que es serializable al hacer que implemente</span>
<span class="c1">// java.io.Serializable pero inclusive sin especificar esto una clase puede ser serializable</span>
<span class="c1">// y utilizarse en el método que sigue</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">UserData</span> <span class="kd">implements</span> <span class="n">java</span><span class="o">.</span><span class="na">io</span><span class="o">.</span><span class="na">Serializable</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span> <span class="o">=</span> <span class="s">&quot;NULL&quot;</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">lastName</span> <span class="o">=</span> <span class="s">&quot;NULL&quot;</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">Integer</span> <span class="n">id</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getName</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setName</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getLastName</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">lastName</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setLastName</span><span class="o">(</span><span class="n">String</span> <span class="n">lastName</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">lastName</span> <span class="o">=</span> <span class="n">lastName</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">Integer</span> <span class="nf">getId</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">id</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setId</span><span class="o">(</span><span class="n">Integer</span> <span class="n">id</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">id</span> <span class="o">=</span> <span class="n">id</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Generamos los Objetos en este caso para luego crear las listas, llamar al método y escribir en un archivo el resultado, debe crear el archivo que contendrá el resultado y rellenar el campo «DIRECCION_DEL_ARCHIVO» con la dirección de su archivo</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span class="c1">// Creamos 3 objetos de usuarios para nuestro ejemplo</span>
<span class="n">UserData</span> <span class="n">user1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">UserData</span><span class="o">();</span>
<span class="n">user1</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">&quot;Miguel&quot;</span><span class="o">);</span>
<span class="n">user1</span><span class="o">.</span><span class="na">setLastName</span><span class="o">(</span><span class="s">&quot;Leugim&quot;</span><span class="o">);</span>
<span class="n">user1</span><span class="o">.</span><span class="na">setId</span><span class="o">(</span><span class="mi">12345</span><span class="o">);</span>

<span class="n">UserData</span> <span class="n">user2</span> <span class="o">=</span> <span class="k">new</span> <span class="n">UserData</span><span class="o">();</span>
<span class="n">user2</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">&quot;Carlos&quot;</span><span class="o">);</span>
<span class="n">user2</span><span class="o">.</span><span class="na">setLastName</span><span class="o">(</span><span class="s">&quot;Solrac&quot;</span><span class="o">);</span>
<span class="n">user2</span><span class="o">.</span><span class="na">setId</span><span class="o">(</span><span class="mi">77777</span><span class="o">);</span>

<span class="n">UserData</span> <span class="n">user3</span> <span class="o">=</span> <span class="k">new</span> <span class="n">UserData</span><span class="o">();</span>
<span class="n">user3</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">&quot;Hector&quot;</span><span class="o">);</span>
<span class="n">user3</span><span class="o">.</span><span class="na">setLastName</span><span class="o">(</span><span class="s">&quot;Rotceh&quot;</span><span class="o">);</span>
<span class="n">user3</span><span class="o">.</span><span class="na">setId</span><span class="o">(</span><span class="mi">41569</span><span class="o">);</span>

<span class="c1">// Metemos los objetos de usuario en una lista de tipo indefinido</span>
<span class="n">List</span><span class="o">&lt;?&gt;</span> <span class="n">object_list</span> <span class="o">=</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">user1</span><span class="o">,</span> <span class="n">user2</span><span class="o">,</span> <span class="n">user3</span><span class="o">);</span>
<span class="c1">// Creamos la lista que contiene los nombres de cada columna y cuyos nombres</span>
<span class="c1">// deben coincidir con los atributos de los objetos para que se carguen los</span>
<span class="c1">// datos correctamente (No es case-sensitive y el orden de la lista se</span>
<span class="c1">// mantiene en el orden de las columnas del archivo CSV)</span>
<span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">header_list</span> <span class="o">=</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="s">&quot;Name&quot;</span><span class="o">,</span> <span class="s">&quot;LastName&quot;</span><span class="o">,</span> <span class="s">&quot;ID&quot;</span><span class="o">);</span>

<span class="c1">// Llamamos al método con los datos preparados, pasando la lista de objetos,</span>
<span class="c1">// la lista de cabeceras de columna y la Clase de los Objetos de la primera</span>
<span class="c1">// lista</span>
<span class="kt">byte</span> <span class="o">[]</span> <span class="n">resultado</span> <span class="o">=</span> <span class="n">CsvUtils</span><span class="o">.</span><span class="na">convertToCsv</span><span class="o">(</span><span class="n">object_list</span><span class="o">,</span> <span class="n">header_list</span><span class="o">,</span> <span class="n">UserData</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>

<span class="c1">// Luego podemos guardar el resultado en un archivo de quererlo</span>
<span class="n">FileUtils</span><span class="o">.</span><span class="na">writeByteArrayToFile</span><span class="o">(</span><span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="s">&quot;DIRECCION_DEL_ARCHIVO&quot;</span><span class="o">),</span> <span class="n">resultado</span><span class="o">);</span>
</pre></div>
</div>
<p>El archivo generado por este ejemplo:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre>Name,LastName,ID
&quot;Miguel&quot;,&quot;Leugim&quot;,&quot;12345&quot;
&quot;Carlos&quot;,&quot;Solrac&quot;,&quot;77777&quot;
&quot;Hector&quot;,&quot;Rotceh&quot;,&quot;41569&quot;
</pre></div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="excel-utils">
<h3>Excel Utils<a class="headerlink" href="#excel-utils" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Contiene utilidades para trabajar con archivos Excel</p>
<p>Ejemplo del método <strong>generateExcel</strong></p>
<p>El método utiliza los datos pasados para crear un archivo Excel en el directorio especificado con los datos especificados</p>
<p>Inputs:</p>
<ul class="simple">
<li>Table&lt;Integer, Integer, Object&gt; que contenga los datos a escribir en el archivo final.</li>
<li>Una lista de Strings que contiene las cabeceras de la tabla de datos.</li>
<li>Un String que contiene el nombre del archivo incluyendo la ruta a este (/home/user/mi_excel.xls), el archivo puede o no existir a la hora de correr el método.</li>
</ul>
<p>Generamos los tres inputs para luego llamar al método que escribirá el archivo resultante, debe modificar el campo «DIRECCION_DEL_ARCHIVO» con la dirección de su archivo (Ej: /home/usuario/Desktop/mi_excel.xls)</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span class="c1">// Definimos el directorio donde se creara el archivo incluyendo su nombre (Terminando en .xls)</span>
<span class="kd">final</span> <span class="n">String</span> <span class="n">fileName</span> <span class="o">=</span> <span class="s">&quot;DIRECCION_DEL_ARCHIVO&quot;</span><span class="o">;</span>

<span class="c1">// Para el ejemplo creamos la lista de cabeceras de la tabla con los nombres de las</span>
<span class="c1">// columnas deseadas</span>
<span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">header</span> <span class="o">=</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="s">&quot;Name&quot;</span><span class="o">,</span> <span class="s">&quot;LastName&quot;</span><span class="o">,</span> <span class="s">&quot;Email&quot;</span><span class="o">,</span> <span class="s">&quot;Cellphone&quot;</span><span class="o">);</span>

<span class="c1">// Creamos y agregamos datos a la tabla</span>
<span class="n">Table</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">,</span> <span class="n">Integer</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">data</span> <span class="o">=</span> <span class="n">HashBasedTable</span><span class="o">.</span><span class="na">create</span><span class="o">();</span>
<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
    <span class="c1">// data.put(n_fila, n_columna, dato)</span>
    <span class="n">data</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">i</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="s">&quot;Joko &quot;</span> <span class="o">+</span> <span class="n">i</span><span class="o">);</span>
    <span class="n">data</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">i</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="s">&quot;Utils &quot;</span> <span class="o">+</span> <span class="n">i</span><span class="o">);</span>
    <span class="n">data</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">i</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="s">&quot;jokoutils&quot;</span> <span class="o">+</span> <span class="n">i</span> <span class="o">+</span> <span class="s">&quot;@gmail.com&quot;</span><span class="o">);</span>
    <span class="n">data</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">i</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">123456</span><span class="o">*</span><span class="n">i</span><span class="o">);</span>
<span class="o">}</span>

<span class="c1">// Hacemos una instancia de la clase ExcelUtils y usamos el método generateExcel pasando</span>
<span class="c1">// la tabla de datos, la lista de cabeceras y la dirección y nombre del archivo final</span>
<span class="n">ExcelUtils</span> <span class="n">excelGenerator</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ExcelUtils</span><span class="o">();</span>
<span class="n">excelGenerator</span><span class="o">.</span><span class="na">generateExcel</span><span class="o">(</span><span class="n">data</span><span class="o">,</span> <span class="n">header</span><span class="o">,</span> <span class="n">fileName</span><span class="o">);</span>
</pre></div>
</div>
<p>Vista previa del archivo generado por este ejemplo:</p>
<img alt="../../../_images/generateExcel_img1.png" class="align-center" src="../../../_images/generateExcel_img1.png" />
</div>
</div>
<hr class="docutils" />
<div class="section" id="versiones">
<h2>Versiones<a class="headerlink" href="#versiones" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Las versiones y releases</p>
</div>
<hr class="docutils" />
<div class="section" id="seccion-de-to-do">
<h2>Sección de TO DO<a class="headerlink" href="#seccion-de-to-do" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Lista de cosas por hacer (Esto a lo mejor iría en el Github como tickets/wishlist?)</p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, SODEP S.A..

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../../_static/translations.js"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>